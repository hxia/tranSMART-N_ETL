--------------------------------------------------------
--  File created - Thursday-October-17-2013   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table MIGRATE_TABLES
--------------------------------------------------------
--  CREATE TABLE "TM_CZ"."MIGRATE_TABLES" ("DATA_TYPE" VARCHAR2(50), "TABLE_OWNER" VARCHAR2(50), "TABLE_NAME" VARCHAR2(50), "STUDY_SPECIFIC" CHAR(1), "WHERE_CLAUSE" VARCHAR2(2000), "INSERT_SEQ" NUMBER(*,0), "STAGE_TABLE_NAME" VARCHAR2(50), "REBUILD_INDEX" CHAR(1)) ;

  
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','DEAPP','DE_ENCOUNTER_TYPE','Y','where st.study_id = TrialId','DE_ENCOUNTER_TYPE_RELEASE','Y');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','DEAPP','DE_ENCOUNTER_LEVEL','Y','where st.study_id = TrialId','DE_ENCOUNTER_LEVEL_RELEASE','Y');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','DEAPP','DE_OBS_ENROLL_DAYS','Y','where st.study_id = TrialId','DE_OBS_ENROLL_DAYS_RELEASE','Y');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','DEAPP','DE_CONCEPT_VISIT','Y','where st.sourcesystem_cd = TrialId','DE_CONCEPT_VISIT_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','I2B2METADATA','I2B2','Y','where st.sourcesystem_cd = TrialId','I2B2_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','I2B2DEMODATA','CONCEPT_DIMENSION','Y','where st.sourcesystem_cd = TrialId','CONCEPT_DIMENSION_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','I2B2DEMODATA','OBSERVATION_FACT','Y','where st.modifier_cd = TrialId or st.sourcesystem_cd = TrialId','OBSERVATION_FACT_RELEASE','Y');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','I2B2DEMODATA','PATIENT_DIMENSION','Y','where st.sourcesystem_cd like TrialId || '':%''','PATIENT_DIMENSION_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','I2B2DEMODATA','MODIFIER_DIMENSION','N',null,'MODIFIER_DIMENSION_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','I2B2DEMODATA','MODIFIER_METADATA','N',null,'MODIFIER_METADATA_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','SEARCHAPP','SEARCH_SECURE_OBJECT','Y','where bio_data_unique_id = ''EXP:'' || TrialId','SEARCH_SECURE_OBJECT_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','I2B2DEMODATA','CONCEPT_COUNTS','Y','where st.concept_path in (select x.c_fullname from i2b2metadata.i2b2 x where x.sourcesystem_cd = TrialId)','CONCEPT_COUNTS_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('METADATA','BIOMART','BIO_EXPERIMENT','Y','where st.accession = TrialId','BIO_EXPERIMENT_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('METADATA','BIOMART','BIO_DATA_DISEASE','Y','where st.etl_source = ''METADATA:'' || TrialId','BIO_DATA_DISEASE_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('METADATA','BIOMART','BIO_AD_HOC_PROPERTY','Y','where st.bio_data_id = (select x.bio_experiment_id from biomart.bio_experiment x where x.accession = TrialId)','BIO_AD_HOC_PROPERTY_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('METADATA','BIOMART','BIO_DATA_UID','Y','where st.unique_id = ''EXP:'' || TrialId','BIO_DATA_UID_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('METADATA','BIOMART','BIO_DATA_COMPOUND','Y','where st.etl_source = ''METADATA:'' || TrialId','BIO_DATA_COMPOUND_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('METADATA','BIOMART','BIO_DATA_TAXONOMY','Y','where st.etl_source = ''METADATA:'' || TrialId','BIO_DATA_TAXONOMY_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('METADATA','BIOMART','BIO_CONTENT_REPOSITORY','N',null,'BIO_CONTENT_REPOSITORY_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('METADATA','BIOMART','BIO_CONTENT_REFERENCE','Y','where st.etl_id_c = ''METADATA:'' || TrialId','BIO_CONTENT_REFERENCE_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('METADATA','BIOMART','BIO_CONTENT','Y','where st.etl_id_c = ''METADATA:'' || TrialId','BIO_CONTENT_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','I2B2DEMODATA','VISIT_DIMENSION','Y','where st.sourcesystem_cd = TrialId','VISIT_DIMENSION_RELEASE','Y');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','I2B2DEMODATA','PATIENT_TRIAL','Y','where st.trial = TrialId','PATIENT_TRIAL_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','BIOMART','BIO_CLINICAL_TRIAL','Y','where st.trial_number = TrialId','BIO_CLINICAL_TRIAL_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('GEX','DEAPP','DE_SUBJECT_SAMPLE_MAPPING','Y','where st.trial_name = TrialId and st.platform='||'''' || 'MRNA_AFFYMETRIX' || '''','DE_SUBJ_SAMPLE_MAP_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('GEX','DEAPP','DE_SUBJECT_MICROARRAY_DATA','Y','where st.trial_name = TrialId','DE_SUBJ_MICROARRAY_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('GEX','DEAPP','DE_MRNA_ANNOTATION','N',null,'DE_MRNA_ANNOTATION_RELEASE','N');


Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','FMAPP','FM_FOLDER','Y','where st.folder_name = TrialId','FM_FOLDER_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','FMAPP','FM_FOLDER_ASSOCIATION','Y','where st.object_uid = ''EXP:'' || TrialId and object_type = ''bio.Experiment'' ','FM_FOLDER_ASSOC_RELEASE','N');



Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','FMAPP','FM_FOLDER_FILE_ASSOCIATION','Y','where st.folder_id in (select x.folder_id from fmapp.fm_folder x where x.folder_name = Trialid) ','FM_FF_ASSOC_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','FMAPP','FM_DATA_UID','Y','where st.unique_id in (select ''FOL:'' || to_char(x.folder_id) from fmapp.fm_folder x where x.folder_name = Trialid) ','FM_DATA_UID_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','FMAPP','FM_FILE','Y','where st.file_id in (select y.file_id from fmapp.fm_folder x, fmapp.fm_file_folder y where x.folder_name = Trialid and x.folder_id = y.folder_id) ','FM_FILE_FOLDER_RELEASE','N');
Insert into TM_CZ.MIGRATE_TABLES (DATA_TYPE,TABLE_OWNER,TABLE_NAME,STUDY_SPECIFIC,WHERE_CLAUSE,STAGE_TABLE_NAME,REBUILD_INDEX)
values ('CLINICAL','FMAPP','FM_DATA_UID','Y','where st.unique_id in (select ''FIL:'' || to_char(y.file_id) from fmapp.fm_folder x, fmapp.fm_file_folder y where x.folder_name = Trialid and x.folder_id = y.folder_id) ','FM_DATA_UID_RELEASE','N');



